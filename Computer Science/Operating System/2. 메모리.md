### 메모리 계층
---
- 레지스터: CPU 안에 있는 작은 메모리, 휘발성, 속도 가장 빠름, 기억 용량이 가장 적음
- 캐시: L1, L2 캐시, 휘발성, 속도 빠름, 기억 요량 적음
- 주기억장치: RAM, 휘발성, 속도 보통, 기억 용량 보통
- 보조기억장치: HDD, SSD, 비휘발성, 속도 낮음, 기억 용량 많음

계층 위로 올라갈수록 가격은 비싸지는데 용량은 작아지고 속도는 빨라지는 특징 → 경제성과 캐시

**캐시**

데이터를 미리 복사해 놓는 임시 저장소이자 빠른 장치와 느린 장치에서 속도 차이에 따른 병목 현상을 줄이기 위한 메모리
→ 데이터 접근 시간 해결, 다시 계산하는 시간 절약
- 지역성의 원리
	- 시간 지역성: 최근 사용한 데이터에 다시 접근하려는 특성
	- 공간 지역성: 최근 접근한 데이터를 이루고 있는 공간이나 그 가까운 공간에 접근하는 특성

**캐시히트와 캐시미스**

캐시히트: 캐시에서 원하는 데이터를 찾음
캐시미스: 해당 데이터가 캐시에 없어서 주메모리로 가서 데이터를 찾아오는 것

- 캐시 매핑: 캐시가 히트되기 위해 매핑하는 방법
- 웹브라우저의 캐시
	- 쿠키: 만료기한이 있는 키-값 저장소
	- 로컬 스토리지: 만료기한이 없는 키-값 저장소
	- 세션 스토리지: 만료기한이 없는 키-값 저장소
- 데이터베이스의 캐싱 계층: 메인 데이터베이스 위에 레디스 캐싱 계층을 둬서 성능 향상

### 메모리 관리
---
**가상 메모리**

메모리 관리 기법의 하나로 컴퓨터가 실제로 이용 가능한 메모리 자원을 추상화하여 이를 사용하는 사용자들에게 매우 큰 메모리로 보이게 만드는 것
가상주소(logical address), 실제 주소(physical address)
- 가상 메모리는 '페이지 테이블'로 가상 주소와 실제 주소가 매핑되어 있고 프로세스의 주소 정보가 있음
- 스와핑: 메모리에서 당장 사용하지 않는 영역을 하드디스크로 옮기고 하드디스크의 일부분을 마치 메모리처럼 불러와 쓰는 것
- 페이지 폴트(Page Fault): 프로세스의 주소 공간에는 존재하지만 컴퓨터의 RAM에는 없는 데이터에 접근했을 경우 발생

**스레싱**
- 메모리의 폴트율이 높은 것 → 심각한 성능 저하 초래
- 메모리에 너무 많은 프로세스가 동시에 올라가게 되면 스와핑이 많이 일어나서 발생
- 페이지 폴트 발생 → CPU 이용률이 낮아짐
- 작업 세트
	- 프로세스의 과거 사용 이력인 지역성을 통해 결정된 페이지 집합을 만들어서 미리 메모리에 로드
- PFF (Page Fault Frequency)

**메모리 할당**
- 연속 할당: 메모리에 연속적으로 공간을 할당
	- 고정 분할 방식: 메모리를 미리 나누어 관리하는 방식, 내부 단편화 발생
	- 가변 분할 방식: 매 시점 프로그램의 크기에 맞게 동적으로 메모리를 나눠 사용, 최초 적합, 최적 적합, 최악 적합, 외부 단편화 발생
- 불연속 할당: 프로그램마다 페이지 테이블을 두어 이를 통해 메모리에 프로그램을 할당
	- 페이징: 동일한 크기의 페이지 단위로 나누어 메모리의 서로 다른 위치에 프로세스 할당
	- 세그멘테이션: 의미 단위인 세그멘트로 나누는 방식
	- 페이지드 세그멘테이

**페이지 교체 알고리즘**
- 오프라인 교체 알고리즘
- FIFO: 가장 먼저 온 페이지를 교체 영역에 가장 먼저 놓는 방법
- LRU: 참조가 가장 오래된 페이지 교체
- LFU: 가장 참조 횟수가 적은 페이지를 교체